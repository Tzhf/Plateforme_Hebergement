<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>{% block title %}{% endblock %}</title>
        {% block stylesheets %}
	        <link rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.min.css">
	        <link rel="stylesheet" href="{{ asset('public/css/app.css') }}">
	        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
	        <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.2/css/buttons.dataTables.min.css">
		{% endblock %}
    </head>
    <body>
		<nav class="navbar navbar-inverse">
		  	<div class="container-fluid">
		    	<div class="navbar-header">
		      		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-2">
				        <span class="sr-only"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
				        <span class="icon-bar"></span>
		      		</button>
		      		<a class="navbar-brand" href="/">Plateforme Hebergement</a>
		    	</div>

			    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
				     <ul class="nav navbar-nav navbar-right">
				     	{% if not app.user %}
							<li><a href="{{ path ('inscription') }}">Inscription</a></li>
							<li><a href="{{ path ('connexion') }}">Se connecter</a></li>
				     	{% else %}
				        	<li><a href="{{ path ('compte', {'id': app.user.id, 'token': csrf_token('options-' ~ app.user.id) }) }}">Options</a></li>
							{% if app.user.role == "1" %}
								<li><a href="{{ path ('admin') }}">Admin</a></li>
							{% endif %}
							<li><a href="{{ path ('deconnexion') }}">Se déconnecter</a></li>
				     	{% endif %}
				    </ul>
		    	</div>
		  	</div>
		</nav>

		<div class="container-fluid text-center">
			<!-- ********** ALERT ZONE ********** -->
			{% for label, flashes in app.session.flashbag.all %}
			    {% for flash in flashes %}
			        <div class="alert alert-dismissible alert-{{label}}">
  						<button type="button" class="close" data-dismiss="alert">&times;</button>
			            <strong>{{ flash }}</strong>
			        </div>
			    {% endfor %}
			{% endfor %}

			<!-- ********** CONTENT ********** -->
		    {% block body %}
		    {% endblock %}
		</div>

		{% block javascripts %}
			<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
	       	<script src="https://bootswatch.com/_vendor/bootstrap/dist/js/bootstrap.min.js"></script>
		    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
		    <script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
		    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.flash.min.js"></script>
		    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
		    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
		    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
		    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
		    <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>

			<script>
			$(document).ready(function() {
			    $('#example').DataTable( {
			    	"language": {
			    	"info": "",
			    	"emptyTable": "Aucune donnée enregistrée",
					"search": "Rechercher :"
						},
					"paging": false,
			        dom: 'Bfrtip',
			        buttons: [
			        	{
			        	extend: 'pdfHtml5',
			            orientation: 'landscape',
			            pageSize: 'LEGAL',
			        	},
			        	'excel', 'csv', 
			        	{
			        	extend: 'print',
			        	text: 'Imprimer',
			            orientation: 'landscape',
			            pageSize: 'LEGAL'
			    		}
			        ],
			   	} );	
			} );
			</script>

		{% endblock %}
	</body>
</html>
